{% extends 'base.html' %}
{% block content %}
<h2>Login</h2>

<form method="POST" novalidate>
    {{ form.hidden_tag() }}

    <div>
        {{ form.username.label }}<br>
        {{ form.username(size=30) }}
    </div>

    <div>
        {{ form.password.label }}<br>
        {{ form.password(size=30) }}
    </div>

    {% if show_captcha %}
    <div>
        {{ form.recaptcha.label }}<br>
        {{ form.recaptcha }}
    </div>
    {% endif %}

    <div>
        {{ form.submit() }}
    </div>
</form>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <p class="{{ category }}">{{ message }}</p>
    {% endfor %}
  {% endif %}
{% endwith %}
{% endblock %}
